import './polyfills.server.mjs';
import{e as bt,h as et}from"./chunk-5XUXGTUW.mjs";var yt=bt((dt,_t)=>{(function(pt,it){typeof dt=="object"&&typeof _t=="object"?_t.exports=it():typeof define=="function"&&define.amd?define([],it):typeof dt=="object"?dt.QRCodeStyling=it():pt.QRCodeStyling=it()})(dt,()=>(()=>{var pt={873:(j,E)=>{var U,ut,rt=function(){var X=function(f,l){var a=f,e=V[l],t=null,i=0,n=null,r=[],d={},g=function(o,h){t=function(s){for(var u=new Array(s),c=0;c<s;c+=1){u[c]=new Array(s);for(var y=0;y<s;y+=1)u[c][y]=null}return u}(i=4*a+17),w(0,0),w(i-7,0),w(0,i-7),v(),p(),x(o,h),a>=7&&S(o),n==null&&(n=b(a,e,r)),m(n,h)},w=function(o,h){for(var s=-1;s<=7;s+=1)if(!(o+s<=-1||i<=o+s))for(var u=-1;u<=7;u+=1)h+u<=-1||i<=h+u||(t[o+s][h+u]=0<=s&&s<=6&&(u==0||u==6)||0<=u&&u<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=u&&u<=4)},p=function(){for(var o=8;o<i-8;o+=1)t[o][6]==null&&(t[o][6]=o%2==0);for(var h=8;h<i-8;h+=1)t[6][h]==null&&(t[6][h]=h%2==0)},v=function(){for(var o=F.getPatternPosition(a),h=0;h<o.length;h+=1)for(var s=0;s<o.length;s+=1){var u=o[h],c=o[s];if(t[u][c]==null)for(var y=-2;y<=2;y+=1)for(var $=-2;$<=2;$+=1)t[u+y][c+$]=y==-2||y==2||$==-2||$==2||y==0&&$==0}},S=function(o){for(var h=F.getBCHTypeNumber(a),s=0;s<18;s+=1){var u=!o&&(h>>s&1)==1;t[Math.floor(s/3)][s%3+i-8-3]=u}for(s=0;s<18;s+=1)u=!o&&(h>>s&1)==1,t[s%3+i-8-3][Math.floor(s/3)]=u},x=function(o,h){for(var s=e<<3|h,u=F.getBCHTypeInfo(s),c=0;c<15;c+=1){var y=!o&&(u>>c&1)==1;c<6?t[c][8]=y:c<8?t[c+1][8]=y:t[i-15+c][8]=y}for(c=0;c<15;c+=1)y=!o&&(u>>c&1)==1,c<8?t[8][i-c-1]=y:c<9?t[8][15-c-1+1]=y:t[8][15-c-1]=y;t[i-8][8]=!o},m=function(o,h){for(var s=-1,u=i-1,c=7,y=0,$=F.getMaskFunction(h),A=i-1;A>0;A-=2)for(A==6&&(A-=1);;){for(var O=0;O<2;O+=1)if(t[u][A-O]==null){var D=!1;y<o.length&&(D=(o[y]>>>c&1)==1),$(u,A-O)&&(D=!D),t[u][A-O]=D,(c-=1)==-1&&(y+=1,c=7)}if((u+=s)<0||i<=u){u-=s,s=-s;break}}},b=function(o,h,s){for(var u=ct.getRSBlocks(o,h),c=ot(),y=0;y<s.length;y+=1){var $=s[y];c.put($.getMode(),4),c.put($.getLength(),F.getLengthInBits($.getMode(),o)),$.write(c)}var A=0;for(y=0;y<u.length;y+=1)A+=u[y].dataCount;if(c.getLengthInBits()>8*A)throw"code length overflow. ("+c.getLengthInBits()+">"+8*A+")";for(c.getLengthInBits()+4<=8*A&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*A||(c.put(236,8),c.getLengthInBits()>=8*A));)c.put(17,8);return function(O,D){for(var B=0,L=0,R=0,P=new Array(D.length),k=new Array(D.length),C=0;C<D.length;C+=1){var N=D[C].dataCount,q=D[C].totalCount-N;L=Math.max(L,N),R=Math.max(R,q),P[C]=new Array(N);for(var M=0;M<P[C].length;M+=1)P[C][M]=255&O.getBuffer()[M+B];B+=N;var I=F.getErrorCorrectPolynomial(q),H=nt(P[C],I.getLength()-1).mod(I);for(k[C]=new Array(I.getLength()-1),M=0;M<k[C].length;M+=1){var G=M+H.getLength()-k[C].length;k[C][M]=G>=0?H.getAt(G):0}}var Z=0;for(M=0;M<D.length;M+=1)Z+=D[M].totalCount;var ht=new Array(Z),J=0;for(M=0;M<L;M+=1)for(C=0;C<D.length;C+=1)M<P[C].length&&(ht[J]=P[C][M],J+=1);for(M=0;M<R;M+=1)for(C=0;C<D.length;C+=1)M<k[C].length&&(ht[J]=k[C][M],J+=1);return ht}(c,u)};d.addData=function(o,h){var s=null;switch(h=h||"Byte"){case"Numeric":s=gt(o);break;case"Alphanumeric":s=lt(o);break;case"Byte":s=st(o);break;case"Kanji":s=ft(o);break;default:throw"mode:"+h}r.push(s),n=null},d.isDark=function(o,h){if(o<0||i<=o||h<0||i<=h)throw o+","+h;return t[o][h]},d.getModuleCount=function(){return i},d.make=function(){if(a<1){for(var o=1;o<40;o++){for(var h=ct.getRSBlocks(o,e),s=ot(),u=0;u<r.length;u++){var c=r[u];s.put(c.getMode(),4),s.put(c.getLength(),F.getLengthInBits(c.getMode(),o)),c.write(s)}var y=0;for(u=0;u<h.length;u++)y+=h[u].dataCount;if(s.getLengthInBits()<=8*y)break}a=o}g(!1,function(){for(var $=0,A=0,O=0;O<8;O+=1){g(!0,O);var D=F.getLostPoint(d);(O==0||$>D)&&($=D,A=O)}return A}())},d.createTableTag=function(o,h){o=o||2;var s="";s+='<table style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: "+(h=h===void 0?4*o:h)+"px;",s+='">',s+="<tbody>";for(var u=0;u<d.getModuleCount();u+=1){s+="<tr>";for(var c=0;c<d.getModuleCount();c+=1)s+='<td style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: 0px;",s+=" width: "+o+"px;",s+=" height: "+o+"px;",s+=" background-color: ",s+=d.isDark(u,c)?"#000000":"#ffffff",s+=";",s+='"/>';s+="</tr>"}return(s+="</tbody>")+"</table>"},d.createSvgTag=function(o,h,s,u){var c={};typeof arguments[0]=="object"&&(o=(c=arguments[0]).cellSize,h=c.margin,s=c.alt,u=c.title),o=o||2,h=h===void 0?4*o:h,(s=typeof s=="string"?{text:s}:s||{}).text=s.text||null,s.id=s.text?s.id||"qrcode-description":null,(u=typeof u=="string"?{text:u}:u||{}).text=u.text||null,u.id=u.text?u.id||"qrcode-title":null;var y,$,A,O,D=d.getModuleCount()*o+2*h,B="";for(O="l"+o+",0 0,"+o+" -"+o+",0 0,-"+o+"z ",B+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',B+=c.scalable?"":' width="'+D+'px" height="'+D+'px"',B+=' viewBox="0 0 '+D+" "+D+'" ',B+=' preserveAspectRatio="xMinYMin meet"',B+=u.text||s.text?' role="img" aria-labelledby="'+_([u.id,s.id].join(" ").trim())+'"':"",B+=">",B+=u.text?'<title id="'+_(u.id)+'">'+_(u.text)+"</title>":"",B+=s.text?'<description id="'+_(s.id)+'">'+_(s.text)+"</description>":"",B+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',B+='<path d="',$=0;$<d.getModuleCount();$+=1)for(A=$*o+h,y=0;y<d.getModuleCount();y+=1)d.isDark($,y)&&(B+="M"+(y*o+h)+","+A+O);return(B+='" stroke="transparent" fill="black"/>')+"</svg>"},d.createDataURL=function(o,h){o=o||2,h=h===void 0?4*o:h;var s=d.getModuleCount()*o+2*h,u=h,c=s-h;return at(s,s,function(y,$){if(u<=y&&y<c&&u<=$&&$<c){var A=Math.floor((y-u)/o),O=Math.floor(($-u)/o);return d.isDark(O,A)?0:1}return 1})},d.createImgTag=function(o,h,s){o=o||2,h=h===void 0?4*o:h;var u=d.getModuleCount()*o+2*h,c="";return c+="<img",c+=' src="',c+=d.createDataURL(o,h),c+='"',c+=' width="',c+=u,c+='"',c+=' height="',c+=u,c+='"',s&&(c+=' alt="',c+=_(s),c+='"'),c+"/>"};var _=function(o){for(var h="",s=0;s<o.length;s+=1){var u=o.charAt(s);switch(u){case"<":h+="&lt;";break;case">":h+="&gt;";break;case"&":h+="&amp;";break;case'"':h+="&quot;";break;default:h+=u}}return h};return d.createASCII=function(o,h){if((o=o||1)<2)return function(P){P=P===void 0?2:P;var k,C,N,q,M,I=1*d.getModuleCount()+2*P,H=P,G=I-P,Z={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},ht={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},J="";for(k=0;k<I;k+=2){for(N=Math.floor((k-H)/1),q=Math.floor((k+1-H)/1),C=0;C<I;C+=1)M="\u2588",H<=C&&C<G&&H<=k&&k<G&&d.isDark(N,Math.floor((C-H)/1))&&(M=" "),H<=C&&C<G&&H<=k+1&&k+1<G&&d.isDark(q,Math.floor((C-H)/1))?M+=" ":M+="\u2588",J+=P<1&&k+1>=G?ht[M]:Z[M];J+=`
`}return I%2&&P>0?J.substring(0,J.length-I-1)+Array(I+1).join("\u2580"):J.substring(0,J.length-1)}(h);o-=1,h=h===void 0?2*o:h;var s,u,c,y,$=d.getModuleCount()*o+2*h,A=h,O=$-h,D=Array(o+1).join("\u2588\u2588"),B=Array(o+1).join("  "),L="",R="";for(s=0;s<$;s+=1){for(c=Math.floor((s-A)/o),R="",u=0;u<$;u+=1)y=1,A<=u&&u<O&&A<=s&&s<O&&d.isDark(c,Math.floor((u-A)/o))&&(y=0),R+=y?D:B;for(c=0;c<o;c+=1)L+=R+`
`}return L.substring(0,L.length-1)},d.renderTo2dContext=function(o,h){h=h||2;for(var s=d.getModuleCount(),u=0;u<s;u++)for(var c=0;c<s;c++)o.fillStyle=d.isDark(u,c)?"black":"white",o.fillRect(u*h,c*h,h,h)},d};X.stringToBytes=(X.stringToBytesFuncs={default:function(f){for(var l=[],a=0;a<f.length;a+=1){var e=f.charCodeAt(a);l.push(255&e)}return l}}).default,X.createStringToBytes=function(f,l){var a=function(){for(var t=vt(f),i=function(){var p=t.read();if(p==-1)throw"eof";return p},n=0,r={};;){var d=t.read();if(d==-1)break;var g=i(),w=i()<<8|i();r[String.fromCharCode(d<<8|g)]=w,n+=1}if(n!=l)throw n+" != "+l;return r}(),e=63;return function(t){for(var i=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);if(r<128)i.push(r);else{var d=a[t.charAt(n)];typeof d=="number"?(255&d)==d?i.push(d):(i.push(d>>>8),i.push(255&d)):i.push(e)}}return i}};var tt,Y,Q,z,W,V={L:1,M:0,Q:3,H:2},F=(tt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Y=1335,Q=7973,W=function(f){for(var l=0;f!=0;)l+=1,f>>>=1;return l},(z={}).getBCHTypeInfo=function(f){for(var l=f<<10;W(l)-W(Y)>=0;)l^=Y<<W(l)-W(Y);return 21522^(f<<10|l)},z.getBCHTypeNumber=function(f){for(var l=f<<12;W(l)-W(Q)>=0;)l^=Q<<W(l)-W(Q);return f<<12|l},z.getPatternPosition=function(f){return tt[f-1]},z.getMaskFunction=function(f){switch(f){case 0:return function(l,a){return(l+a)%2==0};case 1:return function(l,a){return l%2==0};case 2:return function(l,a){return a%3==0};case 3:return function(l,a){return(l+a)%3==0};case 4:return function(l,a){return(Math.floor(l/2)+Math.floor(a/3))%2==0};case 5:return function(l,a){return l*a%2+l*a%3==0};case 6:return function(l,a){return(l*a%2+l*a%3)%2==0};case 7:return function(l,a){return(l*a%3+(l+a)%2)%2==0};default:throw"bad maskPattern:"+f}},z.getErrorCorrectPolynomial=function(f){for(var l=nt([1],0),a=0;a<f;a+=1)l=l.multiply(nt([1,T.gexp(a)],0));return l},z.getLengthInBits=function(f,l){if(1<=l&&l<10)switch(f){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+f}else if(l<27)switch(f){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+f}else{if(!(l<41))throw"type:"+l;switch(f){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+f}}},z.getLostPoint=function(f){for(var l=f.getModuleCount(),a=0,e=0;e<l;e+=1)for(var t=0;t<l;t+=1){for(var i=0,n=f.isDark(e,t),r=-1;r<=1;r+=1)if(!(e+r<0||l<=e+r))for(var d=-1;d<=1;d+=1)t+d<0||l<=t+d||r==0&&d==0||n==f.isDark(e+r,t+d)&&(i+=1);i>5&&(a+=3+i-5)}for(e=0;e<l-1;e+=1)for(t=0;t<l-1;t+=1){var g=0;f.isDark(e,t)&&(g+=1),f.isDark(e+1,t)&&(g+=1),f.isDark(e,t+1)&&(g+=1),f.isDark(e+1,t+1)&&(g+=1),g!=0&&g!=4||(a+=3)}for(e=0;e<l;e+=1)for(t=0;t<l-6;t+=1)f.isDark(e,t)&&!f.isDark(e,t+1)&&f.isDark(e,t+2)&&f.isDark(e,t+3)&&f.isDark(e,t+4)&&!f.isDark(e,t+5)&&f.isDark(e,t+6)&&(a+=40);for(t=0;t<l;t+=1)for(e=0;e<l-6;e+=1)f.isDark(e,t)&&!f.isDark(e+1,t)&&f.isDark(e+2,t)&&f.isDark(e+3,t)&&f.isDark(e+4,t)&&!f.isDark(e+5,t)&&f.isDark(e+6,t)&&(a+=40);var w=0;for(t=0;t<l;t+=1)for(e=0;e<l;e+=1)f.isDark(e,t)&&(w+=1);return a+Math.abs(100*w/l/l-50)/5*10},z),T=function(){for(var f=new Array(256),l=new Array(256),a=0;a<8;a+=1)f[a]=1<<a;for(a=8;a<256;a+=1)f[a]=f[a-4]^f[a-5]^f[a-6]^f[a-8];for(a=0;a<255;a+=1)l[f[a]]=a;return{glog:function(e){if(e<1)throw"glog("+e+")";return l[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return f[e]}}}();function nt(f,l){if(f.length===void 0)throw f.length+"/"+l;var a=function(){for(var t=0;t<f.length&&f[t]==0;)t+=1;for(var i=new Array(f.length-t+l),n=0;n<f.length-t;n+=1)i[n]=f[n+t];return i}(),e={getAt:function(t){return a[t]},getLength:function(){return a.length},multiply:function(t){for(var i=new Array(e.getLength()+t.getLength()-1),n=0;n<e.getLength();n+=1)for(var r=0;r<t.getLength();r+=1)i[n+r]^=T.gexp(T.glog(e.getAt(n))+T.glog(t.getAt(r)));return nt(i,0)},mod:function(t){if(e.getLength()-t.getLength()<0)return e;for(var i=T.glog(e.getAt(0))-T.glog(t.getAt(0)),n=new Array(e.getLength()),r=0;r<e.getLength();r+=1)n[r]=e.getAt(r);for(r=0;r<t.getLength();r+=1)n[r]^=T.gexp(T.glog(t.getAt(r))+i);return nt(n,0).mod(t)}};return e}var ct=function(){var f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],l=function(e,t){var i={};return i.totalCount=e,i.dataCount=t,i},a={getRSBlocks:function(e,t){var i=function(S,x){switch(x){case V.L:return f[4*(S-1)+0];case V.M:return f[4*(S-1)+1];case V.Q:return f[4*(S-1)+2];case V.H:return f[4*(S-1)+3];default:return}}(e,t);if(i===void 0)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var n=i.length/3,r=[],d=0;d<n;d+=1)for(var g=i[3*d+0],w=i[3*d+1],p=i[3*d+2],v=0;v<g;v+=1)r.push(l(w,p));return r}};return a}(),ot=function(){var f=[],l=0,a={getBuffer:function(){return f},getAt:function(e){var t=Math.floor(e/8);return(f[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i+=1)a.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return l},putBit:function(e){var t=Math.floor(l/8);f.length<=t&&f.push(0),e&&(f[t]|=128>>>l%8),l+=1}};return a},gt=function(f){var l=f,a={getMode:function(){return 1},getLength:function(i){return l.length},write:function(i){for(var n=l,r=0;r+2<n.length;)i.put(e(n.substring(r,r+3)),10),r+=3;r<n.length&&(n.length-r==1?i.put(e(n.substring(r,r+1)),4):n.length-r==2&&i.put(e(n.substring(r,r+2)),7))}},e=function(i){for(var n=0,r=0;r<i.length;r+=1)n=10*n+t(i.charAt(r));return n},t=function(i){if("0"<=i&&i<="9")return i.charCodeAt(0)-48;throw"illegal char :"+i};return a},lt=function(f){var l=f,a={getMode:function(){return 2},getLength:function(t){return l.length},write:function(t){for(var i=l,n=0;n+1<i.length;)t.put(45*e(i.charAt(n))+e(i.charAt(n+1)),11),n+=2;n<i.length&&t.put(e(i.charAt(n)),6)}},e=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-48;if("A"<=t&&t<="Z")return t.charCodeAt(0)-65+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return a},st=function(f){var l=X.stringToBytes(f);return{getMode:function(){return 4},getLength:function(a){return l.length},write:function(a){for(var e=0;e<l.length;e+=1)a.put(l[e],8)}}},ft=function(f){var l=X.stringToBytesFuncs.SJIS;if(!l)throw"sjis not supported.";(function(){var t=l("\u53CB");if(t.length!=2||(t[0]<<8|t[1])!=38726)throw"sjis not supported."})();var a=l(f),e={getMode:function(){return 8},getLength:function(t){return~~(a.length/2)},write:function(t){for(var i=a,n=0;n+1<i.length;){var r=(255&i[n])<<8|255&i[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13),n+=2}if(n<i.length)throw"illegal char at "+(n+1)}};return e},wt=function(){var f=[],l={writeByte:function(a){f.push(255&a)},writeShort:function(a){l.writeByte(a),l.writeByte(a>>>8)},writeBytes:function(a,e,t){e=e||0,t=t||a.length;for(var i=0;i<t;i+=1)l.writeByte(a[i+e])},writeString:function(a){for(var e=0;e<a.length;e+=1)l.writeByte(a.charCodeAt(e))},toByteArray:function(){return f},toString:function(){var a="";a+="[";for(var e=0;e<f.length;e+=1)e>0&&(a+=","),a+=f[e];return a+"]"}};return l},vt=function(f){var l=f,a=0,e=0,t=0,i={read:function(){for(;t<8;){if(a>=l.length){if(t==0)return-1;throw"unexpected end of file./"+t}var r=l.charAt(a);if(a+=1,r=="=")return t=0,-1;r.match(/^\s$/)||(e=e<<6|n(r.charCodeAt(0)),t+=6)}var d=e>>>t-8&255;return t-=8,d}},n=function(r){if(65<=r&&r<=90)return r-65;if(97<=r&&r<=122)return r-97+26;if(48<=r&&r<=57)return r-48+52;if(r==43)return 62;if(r==47)return 63;throw"c:"+r};return i},at=function(f,l,a){for(var e=function(w,p){var v=w,S=p,x=new Array(w*p),m={setPixel:function(o,h,s){x[h*v+o]=s},write:function(o){o.writeString("GIF87a"),o.writeShort(v),o.writeShort(S),o.writeByte(128),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(255),o.writeByte(255),o.writeByte(255),o.writeString(","),o.writeShort(0),o.writeShort(0),o.writeShort(v),o.writeShort(S),o.writeByte(0);var h=b(2);o.writeByte(2);for(var s=0;h.length-s>255;)o.writeByte(255),o.writeBytes(h,s,255),s+=255;o.writeByte(h.length-s),o.writeBytes(h,s,h.length-s),o.writeByte(0),o.writeString(";")}},b=function(o){for(var h=1<<o,s=1+(1<<o),u=o+1,c=_(),y=0;y<h;y+=1)c.add(String.fromCharCode(y));c.add(String.fromCharCode(h)),c.add(String.fromCharCode(s));var $,A,O,D=wt(),B=($=D,A=0,O=0,{write:function(k,C){if(k>>>C)throw"length over";for(;A+C>=8;)$.writeByte(255&(k<<A|O)),C-=8-A,k>>>=8-A,O=0,A=0;O|=k<<A,A+=C},flush:function(){A>0&&$.writeByte(O)}});B.write(h,u);var L=0,R=String.fromCharCode(x[L]);for(L+=1;L<x.length;){var P=String.fromCharCode(x[L]);L+=1,c.contains(R+P)?R+=P:(B.write(c.indexOf(R),u),c.size()<4095&&(c.size()==1<<u&&(u+=1),c.add(R+P)),R=P)}return B.write(c.indexOf(R),u),B.write(s,u),B.flush(),D.toByteArray()},_=function(){var o={},h=0,s={add:function(u){if(s.contains(u))throw"dup key:"+u;o[u]=h,h+=1},size:function(){return h},indexOf:function(u){return o[u]},contains:function(u){return o[u]!==void 0}};return s};return m}(f,l),t=0;t<l;t+=1)for(var i=0;i<f;i+=1)e.setPixel(i,t,a(i,t));var n=wt();e.write(n);for(var r=function(){var w=0,p=0,v=0,S="",x={},m=function(_){S+=String.fromCharCode(b(63&_))},b=function(_){if(!(_<0)){if(_<26)return 65+_;if(_<52)return _-26+97;if(_<62)return _-52+48;if(_==62)return 43;if(_==63)return 47}throw"n:"+_};return x.writeByte=function(_){for(w=w<<8|255&_,p+=8,v+=1;p>=6;)m(w>>>p-6),p-=6},x.flush=function(){if(p>0&&(m(w<<6-p),w=0,p=0),v%3!=0)for(var _=3-v%3,o=0;o<_;o+=1)S+="="},x.toString=function(){return S},x}(),d=n.toByteArray(),g=0;g<d.length;g+=1)r.writeByte(d[g]);return r.flush(),"data:image/gif;base64,"+r};return X}();rt.stringToBytesFuncs["UTF-8"]=function(X){return function(tt){for(var Y=[],Q=0;Q<tt.length;Q++){var z=tt.charCodeAt(Q);z<128?Y.push(z):z<2048?Y.push(192|z>>6,128|63&z):z<55296||z>=57344?Y.push(224|z>>12,128|z>>6&63,128|63&z):(Q++,z=65536+((1023&z)<<10|1023&tt.charCodeAt(Q)),Y.push(240|z>>18,128|z>>12&63,128|z>>6&63,128|63&z))}return Y}(X)},(ut=typeof(U=function(){return rt})=="function"?U.apply(E,[]):U)===void 0||(j.exports=ut)}},it={};function K(j){var E=it[j];if(E!==void 0)return E.exports;var U=it[j]={exports:{}};return pt[j](U,U.exports,K),U.exports}K.n=j=>{var E=j&&j.__esModule?()=>j.default:()=>j;return K.d(E,{a:E}),E},K.d=(j,E)=>{for(var U in E)K.o(E,U)&&!K.o(j,U)&&Object.defineProperty(j,U,{enumerable:!0,get:E[U]})},K.o=(j,E)=>Object.prototype.hasOwnProperty.call(j,E);var mt={};return(()=>{"use strict";K.d(mt,{default:()=>l});let j=a=>!!a&&typeof a=="object"&&!Array.isArray(a);function E(a,...e){if(!e.length)return a;let t=e.shift();return t!==void 0&&j(a)&&j(t)?(a=Object.assign({},a),Object.keys(t).forEach(i=>{let n=a[i],r=t[i];Array.isArray(n)&&Array.isArray(r)?a[i]=r:j(n)&&j(r)?a[i]=E(Object.assign({},n),r):a[i]=r}),E(a,...e)):a}function U(a,e){let t=document.createElement("a");t.download=e,t.href=a,document.body.appendChild(t),t.click(),document.body.removeChild(t)}let ut={L:.07,M:.15,Q:.25,H:.3};class rt{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,n){let r;switch(this._type){case"dots":r=this._drawDot;break;case"classy":r=this._drawClassy;break;case"classy-rounded":r=this._drawClassyRounded;break;case"rounded":r=this._drawRounded;break;case"extra-rounded":r=this._drawExtraRounded;break;default:r=this._drawSquare}r.call(this,{x:e,y:t,size:i,getNeighbor:n})}_rotateFigure({x:e,y:t,size:i,rotation:n=0,draw:r}){var d;let g=e+i/2,w=t+i/2;r(),(d=this._element)===null||d===void 0||d.setAttribute("transform",`rotate(${180*n/Math.PI},${g},${w})`)}_basicDot(e){let{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(i+t/2)),this._element.setAttribute("cy",String(n+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){let{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(i)),this._element.setAttribute("y",String(n)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_basicSideRounded(e){let{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${n}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}}))}_basicCornerRounded(e){let{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${n}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_basicCornerExtraRounded(e){let{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${n}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}}))}_basicCornersRounded(e){let{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${n}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_drawDot({x:e,y:t,size:i}){this._basicDot({x:e,y:t,size:i,rotation:0})}_drawSquare({x:e,y:t,size:i}){this._basicSquare({x:e,y:t,size:i,rotation:0})}_drawRounded({x:e,y:t,size:i,getNeighbor:n}){let r=n?+n(-1,0):0,d=n?+n(1,0):0,g=n?+n(0,-1):0,w=n?+n(0,1):0,p=r+d+g+w;if(p!==0)if(p>2||r&&d||g&&w)this._basicSquare({x:e,y:t,size:i,rotation:0});else{if(p===2){let v=0;return r&&g?v=Math.PI/2:g&&d?v=Math.PI:d&&w&&(v=-Math.PI/2),void this._basicCornerRounded({x:e,y:t,size:i,rotation:v})}if(p===1){let v=0;return g?v=Math.PI/2:d?v=Math.PI:w&&(v=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:i,rotation:v})}}else this._basicDot({x:e,y:t,size:i,rotation:0})}_drawExtraRounded({x:e,y:t,size:i,getNeighbor:n}){let r=n?+n(-1,0):0,d=n?+n(1,0):0,g=n?+n(0,-1):0,w=n?+n(0,1):0,p=r+d+g+w;if(p!==0)if(p>2||r&&d||g&&w)this._basicSquare({x:e,y:t,size:i,rotation:0});else{if(p===2){let v=0;return r&&g?v=Math.PI/2:g&&d?v=Math.PI:d&&w&&(v=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:v})}if(p===1){let v=0;return g?v=Math.PI/2:d?v=Math.PI:w&&(v=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:i,rotation:v})}}else this._basicDot({x:e,y:t,size:i,rotation:0})}_drawClassy({x:e,y:t,size:i,getNeighbor:n}){let r=n?+n(-1,0):0,d=n?+n(1,0):0,g=n?+n(0,-1):0,w=n?+n(0,1):0;r+d+g+w!==0?r||g?d||w?this._basicSquare({x:e,y:t,size:i,rotation:0}):this._basicCornerRounded({x:e,y:t,size:i,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:t,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:i,rotation:Math.PI/2})}_drawClassyRounded({x:e,y:t,size:i,getNeighbor:n}){let r=n?+n(-1,0):0,d=n?+n(1,0):0,g=n?+n(0,-1):0,w=n?+n(0,1):0;r+d+g+w!==0?r||g?d||w?this._basicSquare({x:e,y:t,size:i,rotation:0}):this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:i,rotation:Math.PI/2})}}let X={dot:"dot",square:"square",extraRounded:"extra-rounded"},tt=Object.values(X);class Y{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,n){let r;switch(this._type){case X.square:r=this._drawSquare;break;case X.extraRounded:r=this._drawExtraRounded;break;default:r=this._drawDot}r.call(this,{x:e,y:t,size:i,rotation:n})}_rotateFigure({x:e,y:t,size:i,rotation:n=0,draw:r}){var d;let g=e+i/2,w=t+i/2;r(),(d=this._element)===null||d===void 0||d.setAttribute("transform",`rotate(${180*n/Math.PI},${g},${w})`)}_basicDot(e){let{size:t,x:i,y:n}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i+t/2} ${n}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${r}a ${t/2-r} ${t/2-r} 0 1 1 -0.1 0Z`)}}))}_basicSquare(e){let{size:t,x:i,y:n}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i} ${n}v ${t}h ${t}v `+-t+`zM ${i+r} ${n+r}h `+(t-2*r)+"v "+(t-2*r)+"h "+(2*r-t)+"z")}}))}_basicExtraRounded(e){let{size:t,x:i,y:n}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i} ${n+2.5*r}v `+2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*r} ${2.5*r}h `+2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*r} ${2.5*-r}v `+-2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*-r} ${2.5*-r}h `+-2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*-r} ${2.5*r}M ${i+2.5*r} ${n+r}h `+2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*r} ${1.5*r}v `+2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*-r} ${1.5*r}h `+-2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*-r} ${1.5*-r}v `+-2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*r} ${1.5*-r}`)}}))}_drawDot({x:e,y:t,size:i,rotation:n}){this._basicDot({x:e,y:t,size:i,rotation:n})}_drawSquare({x:e,y:t,size:i,rotation:n}){this._basicSquare({x:e,y:t,size:i,rotation:n})}_drawExtraRounded({x:e,y:t,size:i,rotation:n}){this._basicExtraRounded({x:e,y:t,size:i,rotation:n})}}let Q={dot:"dot",square:"square"},z=Object.values(Q);class W{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,n){let r;r=this._type===Q.square?this._drawSquare:this._drawDot,r.call(this,{x:e,y:t,size:i,rotation:n})}_rotateFigure({x:e,y:t,size:i,rotation:n=0,draw:r}){var d;let g=e+i/2,w=t+i/2;r(),(d=this._element)===null||d===void 0||d.setAttribute("transform",`rotate(${180*n/Math.PI},${g},${w})`)}_basicDot(e){let{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(i+t/2)),this._element.setAttribute("cy",String(n+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){let{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(i)),this._element.setAttribute("y",String(n)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_drawDot({x:e,y:t,size:i,rotation:n}){this._basicDot({x:e,y:t,size:i,rotation:n})}_drawSquare({x:e,y:t,size:i,rotation:n}){this._basicSquare({x:e,y:t,size:i,rotation:n})}}let V="circle",F=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],T=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],ct=(()=>{class a{constructor(t,i){this._roundSize=n=>this._options.dotsOptions.roundSize?Math.floor(n):n,this._window=i,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${t.width} ${t.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=t.image,this._instanceId=a.instanceCount++,this._options=t}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}drawQR(t){return et(this,null,function*(){let i=t.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,r=this._options.shape===V?n/Math.sqrt(2):n,d=this._roundSize(r/i),g={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=t,this._options.image){if(yield this.loadImage(),!this._image)return;let{imageOptions:w,qrOptions:p}=this._options,v=w.imageSize*ut[p.errorCorrectionLevel],S=Math.floor(v*i*i);g=function({originalHeight:x,originalWidth:m,maxHiddenDots:b,maxHiddenAxisDots:_,dotSize:o}){let h={x:0,y:0},s={x:0,y:0};if(x<=0||m<=0||b<=0||o<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};let u=x/m;return h.x=Math.floor(Math.sqrt(b/u)),h.x<=0&&(h.x=1),_&&_<h.x&&(h.x=_),h.x%2==0&&h.x--,s.x=h.x*o,h.y=1+2*Math.ceil((h.x*u-1)/2),s.y=Math.round(s.x*u),(h.y*h.x>b||_&&_<h.y)&&(_&&_<h.y?(h.y=_,h.y%2==0&&h.x--):h.y-=2,s.y=h.y*o,h.x=1+2*Math.ceil((h.y/u-1)/2),s.x=Math.round(s.y/u)),{height:s.y,width:s.x,hideYDots:h.y,hideXDots:h.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:S,maxHiddenAxisDots:i-14,dotSize:d})}this.drawBackground(),this.drawDots((w,p)=>{var v,S,x,m,b,_;return!(this._options.imageOptions.hideBackgroundDots&&w>=(i-g.hideYDots)/2&&w<(i+g.hideYDots)/2&&p>=(i-g.hideXDots)/2&&p<(i+g.hideXDots)/2||!((v=F[w])===null||v===void 0)&&v[p]||!((S=F[w-i+7])===null||S===void 0)&&S[p]||!((x=F[w])===null||x===void 0)&&x[p-i+7]||!((m=T[w])===null||m===void 0)&&m[p]||!((b=T[w-i+7])===null||b===void 0)&&b[p]||!((_=T[w])===null||_===void 0)&&_[p-i+7])}),this.drawCorners(),this._options.image&&(yield this.drawImage({width:g.width,height:g.height,count:i,dotSize:d}))})}drawBackground(){var t,i,n;let r=this._element,d=this._options;if(r){let g=(t=d.backgroundOptions)===null||t===void 0?void 0:t.gradient,w=(i=d.backgroundOptions)===null||i===void 0?void 0:i.color,p=d.height,v=d.width;if(g||w){let S=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((n=d.backgroundOptions)===null||n===void 0)&&n.round&&(p=v=Math.min(d.width,d.height),S.setAttribute("rx",String(p/2*d.backgroundOptions.round))),S.setAttribute("x",String(this._roundSize((d.width-v)/2))),S.setAttribute("y",String(this._roundSize((d.height-p)/2))),S.setAttribute("width",String(v)),S.setAttribute("height",String(p)),this._backgroundClipPath.appendChild(S),this._createColor({options:g,color:w,additionalRotation:0,x:0,y:0,height:d.height,width:d.width,name:`background-color-${this._instanceId}`})}}}drawDots(t){var i,n;if(!this._qr)throw"QR code is not defined";let r=this._options,d=this._qr.getModuleCount();if(d>r.width||d>r.height)throw"The canvas is too small.";let g=Math.min(r.width,r.height)-2*r.margin,w=r.shape===V?g/Math.sqrt(2):g,p=this._roundSize(w/d),v=this._roundSize((r.width-d*p)/2),S=this._roundSize((r.height-d*p)/2),x=new rt({svg:this._element,type:r.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(i=r.dotsOptions)===null||i===void 0?void 0:i.gradient,color:r.dotsOptions.color,additionalRotation:0,x:0,y:0,height:r.height,width:r.width,name:`dot-color-${this._instanceId}`});for(let m=0;m<d;m++)for(let b=0;b<d;b++)t&&!t(m,b)||!((n=this._qr)===null||n===void 0)&&n.isDark(m,b)&&(x.draw(v+b*p,S+m*p,p,(_,o)=>!(b+_<0||m+o<0||b+_>=d||m+o>=d)&&!(t&&!t(m+o,b+_))&&!!this._qr&&this._qr.isDark(m+o,b+_)),x._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(x._element));if(r.shape===V){let m=this._roundSize((g/p-d)/2),b=d+2*m,_=v-m*p,o=S-m*p,h=[],s=this._roundSize(b/2);for(let u=0;u<b;u++){h[u]=[];for(let c=0;c<b;c++)u>=m-1&&u<=b-m&&c>=m-1&&c<=b-m||Math.sqrt((u-s)*(u-s)+(c-s)*(c-s))>s?h[u][c]=0:h[u][c]=this._qr.isDark(c-2*m<0?c:c>=d?c-2*m:c-m,u-2*m<0?u:u>=d?u-2*m:u-m)?1:0}for(let u=0;u<b;u++)for(let c=0;c<b;c++)h[u][c]&&(x.draw(_+c*p,o+u*p,p,(y,$)=>{var A;return!!(!((A=h[u+$])===null||A===void 0)&&A[c+y])}),x._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(x._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";let t=this._element,i=this._options;if(!t)throw"Element code is not defined";let n=this._qr.getModuleCount(),r=Math.min(i.width,i.height)-2*i.margin,d=i.shape===V?r/Math.sqrt(2):r,g=this._roundSize(d/n),w=7*g,p=3*g,v=this._roundSize((i.width-n*g)/2),S=this._roundSize((i.height-n*g)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([x,m,b])=>{var _,o,h,s,u,c,y,$,A,O,D,B,L,R;let P=v+x*g*(n-7),k=S+m*g*(n-7),C=this._dotsClipPath,N=this._dotsClipPath;if((!((_=i.cornersSquareOptions)===null||_===void 0)&&_.gradient||!((o=i.cornersSquareOptions)===null||o===void 0)&&o.color)&&(C=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),C.setAttribute("id",`clip-path-corners-square-color-${x}-${m}-${this._instanceId}`),this._defs.appendChild(C),this._cornersSquareClipPath=this._cornersDotClipPath=N=C,this._createColor({options:(h=i.cornersSquareOptions)===null||h===void 0?void 0:h.gradient,color:(s=i.cornersSquareOptions)===null||s===void 0?void 0:s.color,additionalRotation:b,x:P,y:k,height:w,width:w,name:`corners-square-color-${x}-${m}-${this._instanceId}`})),((u=i.cornersSquareOptions)===null||u===void 0?void 0:u.type)&&tt.includes(i.cornersSquareOptions.type)){let q=new Y({svg:this._element,type:i.cornersSquareOptions.type,window:this._window});q.draw(P,k,w,b),q._element&&C&&C.appendChild(q._element)}else{let q=new rt({svg:this._element,type:((c=i.cornersSquareOptions)===null||c===void 0?void 0:c.type)||i.dotsOptions.type,window:this._window});for(let M=0;M<F.length;M++)for(let I=0;I<F[M].length;I++)!((y=F[M])===null||y===void 0)&&y[I]&&(q.draw(P+I*g,k+M*g,g,(H,G)=>{var Z;return!!(!((Z=F[M+G])===null||Z===void 0)&&Z[I+H])}),q._element&&C&&C.appendChild(q._element))}if((!(($=i.cornersDotOptions)===null||$===void 0)&&$.gradient||!((A=i.cornersDotOptions)===null||A===void 0)&&A.color)&&(N=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),N.setAttribute("id",`clip-path-corners-dot-color-${x}-${m}-${this._instanceId}`),this._defs.appendChild(N),this._cornersDotClipPath=N,this._createColor({options:(O=i.cornersDotOptions)===null||O===void 0?void 0:O.gradient,color:(D=i.cornersDotOptions)===null||D===void 0?void 0:D.color,additionalRotation:b,x:P+2*g,y:k+2*g,height:p,width:p,name:`corners-dot-color-${x}-${m}-${this._instanceId}`})),((B=i.cornersDotOptions)===null||B===void 0?void 0:B.type)&&z.includes(i.cornersDotOptions.type)){let q=new W({svg:this._element,type:i.cornersDotOptions.type,window:this._window});q.draw(P+2*g,k+2*g,p,b),q._element&&N&&N.appendChild(q._element)}else{let q=new rt({svg:this._element,type:((L=i.cornersDotOptions)===null||L===void 0?void 0:L.type)||i.dotsOptions.type,window:this._window});for(let M=0;M<T.length;M++)for(let I=0;I<T[M].length;I++)!((R=T[M])===null||R===void 0)&&R[I]&&(q.draw(P+I*g,k+M*g,g,(H,G)=>{var Z;return!!(!((Z=T[M+G])===null||Z===void 0)&&Z[I+H])}),q._element&&N&&N.appendChild(q._element))}})}loadImage(){return new Promise((t,i)=>{var n;let r=this._options;if(!r.image)return i("Image is not defined");if(!((n=r.nodeCanvas)===null||n===void 0)&&n.loadImage)r.nodeCanvas.loadImage(r.image).then(d=>{var g,w;if(this._image=d,this._options.imageOptions.saveAsBlob){let p=(g=r.nodeCanvas)===null||g===void 0?void 0:g.createCanvas(this._image.width,this._image.height);(w=p?.getContext("2d"))===null||w===void 0||w.drawImage(d,0,0),this._imageUri=p?.toDataURL()}t()}).catch(i);else{let d=new this._window.Image;typeof r.imageOptions.crossOrigin=="string"&&(d.crossOrigin=r.imageOptions.crossOrigin),this._image=d,d.onload=()=>et(this,null,function*(){this._options.imageOptions.saveAsBlob&&(this._imageUri=yield function(g,w){return et(this,null,function*(){return new Promise(p=>{let v=new w.XMLHttpRequest;v.onload=function(){let S=new w.FileReader;S.onloadend=function(){p(S.result)},S.readAsDataURL(v.response)},v.open("GET",g),v.responseType="blob",v.send()})})}(r.image||"",this._window)),t()}),d.src=r.image}})}drawImage(d){return et(this,arguments,function*({width:t,height:i,count:n,dotSize:r}){let g=this._options,w=this._roundSize((g.width-n*r)/2),p=this._roundSize((g.height-n*r)/2),v=w+this._roundSize(g.imageOptions.margin+(n*r-t)/2),S=p+this._roundSize(g.imageOptions.margin+(n*r-i)/2),x=t-2*g.imageOptions.margin,m=i-2*g.imageOptions.margin,b=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");b.setAttribute("href",this._imageUri||""),b.setAttribute("xlink:href",this._imageUri||""),b.setAttribute("x",String(v)),b.setAttribute("y",String(S)),b.setAttribute("width",`${x}px`),b.setAttribute("height",`${m}px`),this._element.appendChild(b)})}_createColor({options:t,color:i,additionalRotation:n,x:r,y:d,height:g,width:w,name:p}){let v=w>g?w:g,S=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(S.setAttribute("x",String(r)),S.setAttribute("y",String(d)),S.setAttribute("height",String(g)),S.setAttribute("width",String(w)),S.setAttribute("clip-path",`url('#clip-path-${p}')`),t){let x;if(t.type==="radial")x=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),x.setAttribute("id",p),x.setAttribute("gradientUnits","userSpaceOnUse"),x.setAttribute("fx",String(r+w/2)),x.setAttribute("fy",String(d+g/2)),x.setAttribute("cx",String(r+w/2)),x.setAttribute("cy",String(d+g/2)),x.setAttribute("r",String(v/2));else{let m=((t.rotation||0)+n)%(2*Math.PI),b=(m+2*Math.PI)%(2*Math.PI),_=r+w/2,o=d+g/2,h=r+w/2,s=d+g/2;b>=0&&b<=.25*Math.PI||b>1.75*Math.PI&&b<=2*Math.PI?(_-=w/2,o-=g/2*Math.tan(m),h+=w/2,s+=g/2*Math.tan(m)):b>.25*Math.PI&&b<=.75*Math.PI?(o-=g/2,_-=w/2/Math.tan(m),s+=g/2,h+=w/2/Math.tan(m)):b>.75*Math.PI&&b<=1.25*Math.PI?(_+=w/2,o+=g/2*Math.tan(m),h-=w/2,s-=g/2*Math.tan(m)):b>1.25*Math.PI&&b<=1.75*Math.PI&&(o+=g/2,_+=w/2/Math.tan(m),s-=g/2,h-=w/2/Math.tan(m)),x=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),x.setAttribute("id",p),x.setAttribute("gradientUnits","userSpaceOnUse"),x.setAttribute("x1",String(Math.round(_))),x.setAttribute("y1",String(Math.round(o))),x.setAttribute("x2",String(Math.round(h))),x.setAttribute("y2",String(Math.round(s)))}t.colorStops.forEach(({offset:m,color:b})=>{let _=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");_.setAttribute("offset",100*m+"%"),_.setAttribute("stop-color",b),x.appendChild(_)}),S.setAttribute("fill",`url('#${p}')`),this._defs.appendChild(x)}else i&&S.setAttribute("fill",i);this._element.appendChild(S)}}return a.instanceCount=0,a})(),ot="canvas",gt={};for(let a=0;a<=40;a++)gt[a]=a;let lt={type:ot,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:gt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function st(a){let e=Object.assign({},a);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map(t=>Object.assign(Object.assign({},t),{offset:Number(t.offset)})),e}function ft(a){let e=Object.assign({},a);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=Object.assign(Object.assign({},e.imageOptions),{hideBackgroundDots:!!e.imageOptions.hideBackgroundDots,imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=Object.assign({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=st(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=Object.assign({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=st(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=Object.assign({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=st(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=Object.assign({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=st(e.backgroundOptions.gradient))),e}var wt=K(873),vt=K.n(wt);function at(a){if(!a)throw new Error("Extension must be defined");a[0]==="."&&(a=a.substring(1));let e={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[a.toLowerCase()];if(!e)throw new Error(`Extension "${a}" is not supported`);return e}class f{constructor(e){e?.jsdom?this._window=new e.jsdom("",{resources:"usable"}).window:this._window=window,this._options=e?ft(E(lt,e)):lt,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}_setupSvg(){if(!this._qr)return;let e=new ct(this._options,this._window);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then(()=>{var t;this._svg&&((t=this._extension)===null||t===void 0||t.call(this,e.getElement(),this._options))})}_setupCanvas(){var e,t;this._qr&&(!((e=this._options.nodeCanvas)===null||e===void 0)&&e.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(t=this._svgDrawingPromise)===null||t===void 0?void 0:t.then(()=>{var i;if(!this._svg)return;let n=this._svg,r=new this._window.XMLSerializer().serializeToString(n),d=btoa(r),g=`data:${at("svg")};base64,${d}`;if(!((i=this._options.nodeCanvas)===null||i===void 0)&&i.loadImage)return this._options.nodeCanvas.loadImage(g).then(w=>{var p,v;w.width=this._options.width,w.height=this._options.height,(v=(p=this._nodeCanvas)===null||p===void 0?void 0:p.getContext("2d"))===null||v===void 0||v.drawImage(w,0,0)});{let w=new this._window.Image;return new Promise(p=>{w.onload=()=>{var v,S;(S=(v=this._domCanvas)===null||v===void 0?void 0:v.getContext("2d"))===null||S===void 0||S.drawImage(w,0,0),p()},w.src=g})}}))}_getElement(e="png"){return et(this,null,function*(){if(!this._qr)throw"QR code is empty";return e.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),yield this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),yield this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)})}update(e){f._clearContainer(this._container),this._options=e?ft(E(this._options,e)):this._options,this._options.data&&(this._qr=vt()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===ot?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(e){if(e){if(typeof e.appendChild!="function")throw"Container should be a single DOM node";this._options.type===ot?this._domCanvas&&e.appendChild(this._domCanvas):this._svg&&e.appendChild(this._svg),this._container=e}}applyExtension(e){if(!e)throw"Extension function should be defined.";this._extension=e,this.update()}deleteExtension(){this._extension=void 0,this.update()}getRawData(e="png"){return et(this,null,function*(){if(!this._qr)throw"QR code is empty";let t=yield this._getElement(e),i=at(e);if(!t)return null;if(e.toLowerCase()==="svg"){let n=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(t)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(n):new Blob([n],{type:i})}return new Promise(n=>{let r=t;if("toBuffer"in r)if(i==="image/png")n(r.toBuffer(i));else if(i==="image/jpeg")n(r.toBuffer(i));else{if(i!=="application/pdf")throw Error("Unsupported extension");n(r.toBuffer(i))}else"toBlob"in r&&r.toBlob(n,i,1)})})}download(e){return et(this,null,function*(){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let t="png",i="qr";typeof e=="string"?(t=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof e=="object"&&e!==null&&(e.name&&(i=e.name),e.extension&&(t=e.extension));let n=yield this._getElement(t);if(n)if(t.toLowerCase()==="svg"){let r=new XMLSerializer().serializeToString(n);r=`<?xml version="1.0" standalone="no"?>\r
`+r,U(`data:${at(t)};charset=utf-8,${encodeURIComponent(r)}`,`${i}.svg`)}else U(n.toDataURL(at(t)),`${i}.${t}`)})}}let l=f})(),mt.default})())});export default yt();
